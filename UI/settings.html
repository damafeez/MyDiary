<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
	<meta name="description" content="An online journal where users can pen down their thoughts and feelings.">
	<meta name="author" content="damafeez">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="css/style.css">
  <title>MyDiary</title>
  <script>
    const user = JSON.parse(localStorage.getItem('user'));
    if(!user) window.location.assign('index.html');
  </script>
</head>
<body class="settings">
  <header><h1><a href="home.html">MyDiary</a></h1>
    <a href="settings.html"><img class="bg" src="img/john.jpg" alt=""></a>
  </header>
  <main>
    <section class="info-settings">
      <div class="settings">
        <div>
          <div class="header">
            <span>EDIT PROFILE</span>
            <svg class="icon">
              <use xlink:href="svg/icons.svg#icon-user"></use>
            </svg>
          </div>
          <form class="open-close" onsubmit="editProfile(event)">
            <div class="input">
              <svg class="icon">
                <use xlink:href="svg/icons.svg#icon-user"></use>
              </svg>
              <input required name="fullName" id="edit-fullName" type="text">
              <label for="edit-fullName">Full Name</label>
            </div>
            <div class="input">
              <svg class="icon">
                <use xlink:href="svg/icons.svg#icon-at-sign"></use>
              </svg>
              <input required name="email" id="edit-email" type="email">
              <label for="edit-email">Email</label>
            </div>
            <button name="button" class="round btn">Update</button>
          </form>
        </div>
        <div>
          <div class="header">
            <span>CHANGE PASSWORD</span>
            <svg class="icon">
              <use xlink:href="svg/icons.svg#icon-unlock"></use>
            </svg>
          </div>
          <form class="open-close" onsubmit="changePassword(event)">
            <div class="input">
              <svg class="icon">
                <use xlink:href="svg/icons.svg#icon-unlock"></use>
              </svg>
              <input required name="password" id="password-current" type="password">
              <label for="password-current">Current Password</label>
            </div>
            <div class="input">
              <svg class="icon">
                <use xlink:href="svg/icons.svg#icon-unlock"></use>
              </svg>
              <input required name="newPassword" id="password-new" type="password">
              <label for="password-new">New Password</label>
            </div>
            <div class="input">
              <svg class="icon">
                <use xlink:href="svg/icons.svg#icon-unlock"></use>
              </svg>
              <input required name="confirmPassword" id="password-confirm" type="password">
              <label for="password-confirm">Confirm Password</label>
            </div>
            <button name="button" class="round btn">Update</button>
          </form>
        </div>
        <div>
          <div class="header check">
            <label for="show-notification">SHOW DAILY REMINDER</label>
            <input type="checkbox" checked name="reminder" id="show-notification">
          </div>
        </div>
        <button onclick="logout()" class="btn round logout">Logout</button>
      </div>
      <div class="info">
      </div>
    </section>
  </main>
  <script src="js/app.js"></script>
  <script>
    window.addEventListener('DOMContentLoaded', () => {
      initInfo(user)
      document.querySelector('#show-notification').checked = user.notificationStatus
      document.querySelector('#show-notification').addEventListener('change', function () {
        setNotification(this.checked)})
      document.querySelector('#edit-fullName').value = user.fullName
      document.querySelector('#edit-email').value = user.email
      initOpenClose()
    })
  </script>
</body>
</html>